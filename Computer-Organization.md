## 计算机的基本组成

### 冯·诺依曼计算机

1. 计算机由五大部件组成
   - 运算器、控制器、存储器、输入、输出
2. 指令和数据以同等地位存于存储器，可按地址寻访
3. 指令和数据用二进制表示
4. `指令 => 操作码 + 地址码`
5. **存储程序**
6. 以运算器为中心

---

1. 运算器 -- ALU(arithmetic logic unit)
2. 控制器 -- CU(Control unit)
3. 存储器
4. 输入设备
5. 输出设备

> ALU + CU -> CPU
> 存储器 -> 主存 + 辅存
> CPU + 主存 -> 主机
> 输入设备 + 输出设备 + 辅存 -> I/O 设备
> I/O 设备 + 主机 -> 硬件

---

系统复杂性管理的方法-(3Y)

1. Hierachy(层次化): 将系统拆分成多个模块
2. Modularity(模块化): 明确模块定义的功能和接口
3. regularity(规则化): 模块更容易被重复利用

---

### 存储器

- 主存 <- 存储器 + MAR + MDR

- 存储体 <- 存储单元 <- 存储元件

> 存储单元-存放二进制代码（每个存储单元赋予一个地址）
> 存储字-存储单元中二进制代码的组合
> 存储字长-存储单元中二进制代码的位数

- MAR (Memory Address Register) - 存储器地址寄存器（反映存储单元的个数）
- MDR (Memory Data Register) - 存储器数据寄存器（反映存储字长）

---

### 运算器

---

### 控制器

- 取指令(由 PC 负责)
- 分析指令(由 IR 负责)
- 执行指令(由 CU 负责)

> 控制器 = PC + IR + CU

---

### 总线

> 总线是连接各个部件的信息输出线(bus), 是各个部件共享的传输介质

#### 结构

- 单总线结构
- 面向 CPU 的双总线(增加 CPU 同 主存 之间的专用 M 总线)
- 以存储器为中心的双总线结构(增加 CPU 同 主存 之间的专用 M 总线)

#### 分类

- 片内总线 - 芯片内部的总线
- 系统总线 - 计算机各个部件之间的信息传输线
  - 数据总线 - 双向(与机器字长、存储字长有关)
  - 地址总线 - 单项
  - 控制总线 - 有出有入
- 通信总线 - 计算机系统之间 或 与其它系统之间通信

#### 特性

- 机械特性 - 尺寸、形状、管脚数、排列顺序
- 电气特性 - 传输方向和有效的电平范围
- 功能特性
- 时间特性 - 信号的时序关系

#### 性能

- 总线宽度 - **数据线**的根数
- 标准传输率 - 每秒传输的最大字节数(MBps)
- 时钟同步/异步
- 总线复用 - **地址线**与**数据线**复用
- 信号线数
- 总线控制方式
- 其他指标

---

### 总线控制

- 主设备 - 对总线有控制权
- 从设备 - 相应命令

#### 总线判优控制(用以解决哪个设备可以使用总线进行通信的问题)

- 集中式
  - 链式查询
  - 计数器定时查询
  - 独立请求方式
- 分布式

#### 总线通信控制(用以解决通信双方协调配合的问题)

- 总线传输周期

  - 申请分配阶段 - 主模块申请，总线仲裁决定
  - 寻址阶段 - 主模块向从模块给出地址和命令
  - 传数阶段 - 主模块和从模块交换数据
  - 结束阶段 - 主模块撤销有关信息

- 总线通信方式
  - 同步通信 - 由**统一时标**控制数据传输
  - 异步通信 - 采用**应答方式**，没有公共时钟标准
  - 半同步通信 - 同步、异步结合
  - 分离式通信 - 充分挖掘系统总线每个瞬间的潜力
 